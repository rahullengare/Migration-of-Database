## About Project:

This project is about learning how to **migrate a database from an EC2 instance to an RDS MySQL database** on AWS. In simple words, we first create a database inside an EC2 instance, then we take a backup of this database, and finally we move that backup into RDS. This process is very useful because in real-world projects, data usually starts on a local server and later needs to be shifted to the cloud for better management, security, and scalability.


## Technologies Used:

- **AWS RDS** → Cloud database service.
- **AWS EC2** → Virtual machine to run Linux and MySQL.
- **MySQL / MariaDB** → Database to store data.
- **Linux Commands** → For installing, exporting, and importing database.


## What is RDS Database?

Amazon RDS (Relational Database Service) is a cloud-based service that makes database management simple. Instead of manually handling updates, backups, and security, AWS takes care of them for us. We only need to create the database and connect to it. RDS supports many engines like MySQL, PostgreSQL, Oracle, and SQL Server. In this project, we are using **MySQL on RDS**.


## MySQL

MySQL is a popular relational database that stores data in **tables with rows and columns**. For example, a `users` table may have `name`, `age`, and `city` as columns. It uses SQL (Structured Query Language) to add, update, and read data. Many big companies like Facebook and YouTube use MySQL. In this project, we use MySQL both on **EC2 (local)** and **RDS (cloud)**.


## Step 1: Create RDS MySQL Database

1. Go to AWS Console → RDS → Create database.
2. Select **MySQL** 
3. Choose **Free tier**
4. Set:
    - username: `admin`
    - password: autogenerated click
5. Under Connectivity → select **Public access**
6. Click on Create Database
7. Click On View Credentials 
8. Copy Credentials details like username & password  
9. Copy the **RDS endpoint** 

```bash
database-1.c8taowgcq72q.us-east-1.rds.amazonaws.com
#copy also password
```

![Project Screenshot](/images/create-instance1.png)
![Project Screenshot](/images/create-instance2.png)
![Project Screenshot](/images/instance-done.png)

## Step 2: Launch an EC2 Instance

1. Go to AWS Console → EC2 
2. Launch Instance.
    - Name → RDS-migration
    - Choose AMI → Amazon Linux.
    - Instance type → t2.micro
    - Key pair → pem_server_key
    - security group → launch-wizard-1 : **SSH (22)** and **MySQL/Aurora (3306)**

![Project Screenshot](/images/RDS-create1.png)
![Project Screenshot](/images/RDS-create2.png)
![Project Screenshot](/images/RDS-create3.png)
![Project Screenshot](/images/RDS-create4.png)
![Project Screenshot](/images/RDS-create5.png)
![Project Screenshot](/images/RDS-create6.png)

## Step 3: SSH to connect the EC2 Instance

```bash
ssh -i "pem-server-key.pem" ec2-user@ec2-54-89-189-76.compute-1.amazonaws.com
```

![Project Screenshot](/images/connect-bash.png)

## Step 4: Install MySQL on EC2 & Create Local Database

1. Update system & Install MySQL  

```bash
sudo yum update 
sudo yum install -y mariadb105
sudo systemctl start mariadb
sudo systemctl enable mariadb
```

2. Enter in MySQL Database to set Password

```bash
sudo mysql
alter user root@localhost identified by "root"       //set root as password
mysql -u root -p
```

3. Create Database & table in Local MySQL DB

```bash
CREATE DATABASE insta;
USE insta;

CREATE TABLE users (
    name VARCHAR(50),
    age INT,
    city VARCHAR(50)
);

INSERT INTO users (name, age, city) VALUES
('Rahul', 25, 'Pune'),
('Aditya', 30, 'Satara'),
('Raj', 28, 'Mumbai');

```

4. Verify & Exit

```bash
SELECT * FROM users;
Exit:
```

![Project Screenshot](/images/sudo-mysql.png)
![Project Screenshot](/images/sudo-mysql-data.png)


## Step 5: Export Database to a file & backup file `insta.sql`

```bash
mysqldump -u root -p insta > insta.sql
```

## Step 6: **Import into RDS MySQL**

```bash
mysql -h database-1.c8taowgcq72q.us-east-1.rds.amazonaws.com -P 3306 -u admin -p insta < insta.sql
#enter RDS Password
```

![Project Screenshot](/images/copy-file.png)

## **Step 7: Verify Data in RDS**

Login to RDS directly:

```bash
mysql -h database-1.c8taowgcq72q.us-east-1.rds.amazonaws.com -P 3306 -u admin -p
#enter RDS Password
```

Enter the RDS password, then run:

```bash
SHOW DATABASES;
USE insta;
SHOW TABLES;
SELECT * FROM users;

```

![Project Screenshot](/images/checking-data.png)

## Step 8: Delete RDS and also EC2 instance

1. Go to AWS console → RDS 
2. Click to select your database 
3. Click on Action → Delete 
4. Uncheck snapshot then Click on Delete me
5. Go to AWS console → EC2 
6. Click to select your instance EC2 
7. Click on instance type → click terminate instance

![Project Screenshot](/images/delete-rds.png)
![Project Screenshot](/images/delete-rds2.png)
![Project Screenshot](/images/delete-instance1.png)
![Project Screenshot](/images/delete-instance2.png)
